<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>Hawa co - Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #050509;
            color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: stretch;
            min-height: 100vh;
        }

        .app {
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            background: radial-gradient(circle at top, #181834 0, #050509 60%);
        }

        .header {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00c853, #00e5ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
            color: #050509;
        }

        .header-text { display: flex; flex-direction: column; gap: 2px; }

        .header-title {
            font-size: 15px;
            font-weight: 700;
        }

        .header-sub {
            font-size: 11px;
            color: #b0b0d0;
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .bubble {
            max-width: 90%;
            padding: 8px 10px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .bubble.user {
            margin-left: auto;
            border-bottom-left-radius: 4px;
            background: #0066ff;
            color: #ffffff;
        }

        .bubble.bot {
            margin-right: auto;
            border-bottom-right-radius: 4px;
            background: rgba(15, 15, 30, 0.95);
            border: 1px solid rgba(255,255,255,0.06);
        }

        .bubble.typing {
            font-size: 12px;
            opacity: 0.8;
        }

        .footer {
            padding: 8px;
            border-top: 1px solid rgba(255,255,255,0.08);
            background: rgba(5,5,12,0.96);
            display: flex;
            gap: 6px;
        }

        .input {
            flex: 1;
            padding: 8px 10px;
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,0.18);
            background: rgba(8,8,20,0.9);
            color: #fff;
            font-size: 14px;
            outline: none;
        }

        .input::placeholder { color: #777799; }

        .btn {
            border: none;
            border-radius: 999px;
            padding: 0 14px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            background: linear-gradient(135deg, #00c853, #00e5ff);
            color: #050509;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        .btn:disabled { opacity: .5; cursor: default; }

        .hint {
            padding: 4px 12px 8px;
            font-size: 11px;
            color: #9090b0;
            text-align: center;
        }

        .summary-buttons {
            margin-top: 6px;
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .summary-buttons button {
            border-radius: 999px;
            border: none;
            padding: 4px 10px;
            font-size: 12px;
            cursor: pointer;
            background: #00c853;
            color: #050509;
        }

        .summary-buttons button.cancel {
            background: #ff5252;
            color: #fff;
        }

        table.spec-table {
            border-collapse: collapse;
            width: 100%;
            font-size: 12px;
        }
        table.spec-table th,
        table.spec-table td {
            border: 1px solid rgba(255,255,255,0.2);
            padding: 4px 6px;
        }
        table.spec-table th {
            background: rgba(255,255,255,0.08);
        }

        @media (max-width: 480px) {
            .messages { padding: 8px; }
            .header { padding: 10px 12px; }
            .footer { padding: 6px; }
        }
    </style>
</head>
<body>
    <div class="app">
        <div class="header">
            <div class="avatar">H</div>
            <div class="header-text">
                <div class="header-title">Hawa co â€“ Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª</div>
                <div class="header-sub">Ù‚Ù„ÙŠÙˆØ¨ â€“ Ù‚Ø·Ø¹Ø© 86 â€“ Ø·Ø±ÙŠÙ‚ Ù…ØµØ± Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠ</div>
            </div>
        </div>

        <div id="messages" class="messages"></div>

        <div class="hint">
            Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„: Ù…Ù† 9 ØµØ¨Ø§Ø­Ù‹Ø§ Ø¥Ù„Ù‰ 5 Ù…Ø³Ø§Ø¡Ù‹ â€“ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯.<br />
            Ø§Ù„Ø¨ÙˆØª Ù…Ø®ØµØµ Ù„Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø£Ø¨Ùˆ Ø­ÙˆØ§ ÙÙ‚Ø·.
        </div>

        <div class="footer">
            <input id="userInput" class="input" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ Ø£Ùˆ ÙƒÙ„Ù…Ø© (Ø­Ø¬Ø² / Ù…ÙˆØ§ØµÙØ§Øª / Ù…Ù‚Ø§Ø±Ù†Ø©)â€¦" />
            <button id="sendBtn" class="btn">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <script>
        // "Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª" Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª â€“ ØªÙ‚Ø¯Ø± ØªØ²ÙˆØ¯Ù‡Ø§ Ø£Ùˆ ØªØ¹Ø¯Ù„ ÙÙŠÙ‡Ø§ Ø¨Ø±Ø§Ø­ØªÙƒ
        const MODELS = {
            "RR703": {
                name: "Zontes RR 703",
                type: "Ø³Ø¨ÙˆØ±Øª Ø³ÙŠØ§Ø­ÙŠ",
                engine: "700 Ø³ÙŠ Ø³ÙŠ â€“ Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø§Ø³Ø·ÙˆØ§Ù†Ø© â€“ ØªØ¨Ø±ÙŠØ¯ Ù…Ø§Ø¦ÙŠ",
                power: "73 Ø­ØµØ§Ù† ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§",
                torque: "67 Ù†ÙŠÙˆØªÙ†.Ù…ØªØ± ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§",
                gearbox: "6 Ø³Ø±Ø¹Ø§Øª",
                brakes: "Ø£Ù…Ø§Ù…Ù‰ ÙˆØ®Ù„ÙÙ‰ ABS Ø¯ÙŠØ³Ùƒ",
                tank: "17 Ù„ØªØ± ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§",
                weight: "Ø­ÙˆØ§Ù„ÙŠ 200 ÙƒØ¬Ù…"
            },
            "CMG TIGER": {
                name: "CMG TIGER",
                type: "ØªØ±ÙˆØ³ÙƒÙ„ Ù†Ù‚Ù„",
                engine: "200â€“250 Ø³ÙŠ Ø³ÙŠ Ø¹Ù„Ù‰ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©",
                power: "Ù‚Ø¯Ø±Ø© Ø¹Ø§Ù„ÙŠØ© Ù„Ù„Ù†Ù‚Ù„ Ø§Ù„Ø«Ù‚ÙŠÙ„",
                torque: "Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ù†",
                gearbox: "5 Ø³Ø±Ø¹Ø§Øª Ø£Ù…Ø§Ù…ÙŠ + Ø±ÙŠÙˆØ³",
                brakes: "ÙØ±Ø§Ù…Ù„ Ø®Ù„ÙÙŠØ© Ù‚ÙˆÙŠØ© Ù„Ù„ØªØ­Ù…ÙŠÙ„",
                tank: "Ø³Ø¹Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ",
                weight: "Ø´Ø§Ø³ÙŠÙ‡ ØªÙ‚ÙŠÙ„ ÙŠØªØ­Ù…Ù„ Ø´ØºÙ„"
            },
            "DAYUN": {
                name: "Dayun 200",
                type: "Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙŠÙˆÙ…ÙŠ",
                engine: "200 Ø³ÙŠ Ø³ÙŠ",
                power: "Ù‚Ø¯Ø±Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø·Ø±Ù‚ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ù†",
                torque: "Ø¹Ø²Ù… ÙƒÙˆÙŠØ³ Ù„Ù„Ø¨Ù†Ø²ÙŠÙ†",
                gearbox: "5 Ø³Ø±Ø¹Ø§Øª",
                brakes: "Ø£Ù…Ø§Ù…ÙŠ Ø¯ÙŠØ³Ùƒ â€“ Ø®Ù„ÙÙŠ Ø¨Ø§ÙƒÙ…/Ø·Ù†Ø§Ø¨ÙŠØ± Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©",
                tank: "Ø­ÙˆØ§Ù„ÙŠ 13â€“15 Ù„ØªØ±",
                weight: "Ø®ÙÙŠÙ Ù†Ø³Ø¨ÙŠÙ‹Ø§"
            }
        };

        const messagesDiv = document.getElementById("messages");
        const userInput = document.getElementById("userInput");
        const sendBtn = document.getElementById("sendBtn");

        // Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
        const state = {
            mode: "idle",      // idle | main | booking_* | summary
            booking: {
                name: "",
                phone: "",
                whatsapp: "",
                address: "",
                model: "",
                payment: ""
            }
        };

        function addMessage(text, sender = "bot", html = false) {
            const div = document.createElement("div");
            div.className = `bubble ${sender}`;
            if (html) {
                div.innerHTML = text;
            } else {
                div.textContent = text;
            }
            messagesDiv.appendChild(div);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            return div;
        }

        function bot(text) {
            return addMessage(text, "bot");
        }

        function user(text) {
            return addMessage(text, "user");
        }

        // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ø£ÙˆÙ„ Ù…Ø§ Ø§Ù„ØµÙØ­Ø© ØªÙØªØ­
        bot("â€¦ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø­Ø¶Ø±ØªÙƒØŒ Ù…Ø¹ Ø­Ø¶Ø±ØªÙƒ Hawa coØŒ ØªØ­Øª Ø£Ù…Ø± Ø­Ø¶Ø±ØªÙƒ ÙÙŠ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª ğŸ™‚âœ¨");
        bot("ØªÙ‚Ø¯Ø± ØªÙƒØªØ¨:\nâ€¢ Ø­Ø¬Ø²\nâ€¢ Ù…ÙˆØ§ØµÙØ§Øª RR703\nâ€¢ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† RR703 Ùˆ Dayun\nØ£Ùˆ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø£Ø¨Ùˆ Ø­ÙˆØ§ ğŸ™‚âœ¨");

        function resetBooking() {
            state.mode = "idle";
            state.booking = {
                name: "",
                phone: "",
                whatsapp: "",
                address: "",
                model: "",
                payment: ""
            };
        }

        function startBookingFlow() {
            resetBooking();
            state.mode = "booking_name";
            bot("ØªÙ…Ø§Ù…â€¦ Ù†Ø¨Ø¯Ø£ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ ğŸ™‚âœ¨\nÙ…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø­Ø¶Ø±ØªÙƒ Ø«Ù„Ø§Ø«ÙŠ:");
        }

        function handleBookingStep(text) {
            switch (state.mode) {
                case "booking_name":
                    state.booking.name = text;
                    state.mode = "booking_phone";
                    bot("Ø­Ø§Ø¶Ø± ÙŠØ§ " + text + " ğŸ™‚\nÙ…Ù† ÙØ¶Ù„Ùƒ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ù„ØªÙˆØ§ØµÙ„:");
                    break;
                case "booking_phone":
                    state.booking.phone = text;
                    state.mode = "booking_whatsapp";
                    bot("ØªÙ…Ø§Ù…â€¦ Ù„Ùˆ Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ù…Ø®ØªÙ„ÙØŒ Ø§ÙƒØªØ¨Ù‡.\nÙˆÙ„Ùˆ Ù‡Ùˆ Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù… Ø§ÙƒØªØ¨: Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù…");
                    break;
                case "booking_whatsapp":
                    state.booking.whatsapp = (text.trim() === "Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù…") ? state.booking.phone : text;
                    state.mode = "booking_address";
                    bot("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø¹Ù†ÙˆØ§Ù† Ø­Ø¶Ø±ØªÙƒ (Ø§Ù„Ù…Ù†Ø·Ù‚Ø© / Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©):");
                    break;
                case "booking_address":
                    state.booking.address = text;
                    state.mode = "booking_model";
                    bot("Ø¥ÙŠÙ‡ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù„ÙŠ Ø­Ø¶Ø±ØªÙƒ Ù…Ù‡ØªÙ… Ø¨ÙŠÙ‡ØŸ Ù…Ø«Ù„Ù‹Ø§: RR703 Ø£Ùˆ CMG TIGER Ø£Ùˆ Dayun ğŸ™‚");
                    break;
                case "booking_model":
                    state.booking.model = text;
                    state.mode = "booking_payment";
                    bot("Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ù„ÙŠ ØªÙ†Ø§Ø³Ø¨ Ø­Ø¶Ø±ØªÙƒØŸ (ÙƒØ§Ø´ Ø£Ùˆ Ù‚Ø³Ø·)");
                    break;
                case "booking_payment":
                    state.booking.payment = text;
                    state.mode = "summary";
                    showBookingSummary();
                    break;
                default:
                    break;
            }
        }

        function showBookingSummary() {
            const b = state.booking;
            let html = `
                Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø¬Ø²:\n
                â€¢ Ø§Ù„Ø§Ø³Ù…: ${b.name}
                â€¢ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: ${b.phone}
                â€¢ Ø§Ù„ÙˆØ§ØªØ³: ${b.whatsapp}
                â€¢ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${b.address}
                â€¢ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„: ${b.model}
                â€¢ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø´Ø±Ø§Ø¡: ${b.payment}
            `;
            const bubble = bot(html);

            // Ø²Ø±Ø§Ø±ÙŠÙ† ØªØ£ÙƒÙŠØ¯ / Ø¥Ù„ØºØ§Ø¡
            const btns = document.createElement("div");
            btns.className = "summary-buttons";
            btns.innerHTML = `
                <button id="confirmBtn">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</button>
                <button id="cancelBtn" class="cancel">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø²</button>
            `;
            bubble.appendChild(btns);

            document.getElementById("confirmBtn").onclick = () => {
                bot("â€¦ ØªÙ…Ø§Ù…ØŒ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²ØŒ ÙˆÙØ±ÙŠÙ‚ Ø¹Ù…Ù„ Ø£Ø¨Ùˆ Ø­ÙˆØ§ Ù‡ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø­Ø¶Ø±ØªÙƒ Ø®Ù„Ø§Ù„ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ğŸ™‚âœ¨");
                resetBooking();
            };

            document.getElementById("cancelBtn").onclick = () => {
                bot("â€¦ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø±ØºØ¨Ø© Ø­Ø¶Ø±ØªÙƒØŒ ØªØ­Øª Ø£Ù…Ø± Ø­Ø¶Ø±ØªÙƒ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª ğŸ™‚âœ¨");
                resetBooking();
            };
        }

        function showModelSpecs(modelKey) {
            const m = MODELS[modelKey];
            if (!m) {
                bot("â€¦ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ø¹Ø§ÙŠØ§ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø³ØŒ Ù„Ùˆ ØªØ­Ø¨ Ø­Ø¶Ø±ØªÙƒ ØªÙ‚ÙˆÙ„Ù„ÙŠ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø¨Ø§Ù„Ø¸Ø¨Ø· ÙˆØ£Ù‚ÙˆÙ„Ùƒ Ø§Ù„Ù…ØªØ§Ø­ ğŸ™‚âœ¨");
                return;
            }
            let html = `
                ğŸ”¹ Ù…ÙˆØ§ØµÙØ§Øª ${m.name}:\n\n
                <table class="spec-table">
                    <tr><th>Ø§Ù„Ù…ÙˆØ§ØµÙØ©</th><th>Ø§Ù„ØªÙØ§ØµÙŠÙ„</th></tr>
                    <tr><td>Ø§Ù„Ù†ÙˆØ¹</td><td>${m.type}</td></tr>
                    <tr><td>Ø§Ù„Ù…Ø­Ø±Ùƒ</td><td>${m.engine}</td></tr>
                    <tr><td>Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø­ØµØ§Ù†ÙŠØ©</td><td>${m.power}</td></tr>
                    <tr><td>Ø§Ù„Ø¹Ø²Ù…</td><td>${m.torque}</td></tr>
                    <tr><td>Ù†Ø§Ù‚Ù„ Ø§Ù„Ø­Ø±ÙƒØ©</td><td>${m.gearbox}</td></tr>
                    <tr><td>Ø§Ù„ÙØ±Ø§Ù…Ù„</td><td>${m.brakes}</td></tr>
                    <tr><td>Ø³Ø¹Ø© Ø§Ù„ØªØ§Ù†Ùƒ</td><td>${m.tank}</td></tr>
                    <tr><td>Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ</td><td>${m.weight}</td></tr>
                </table>
                <div style="margin-top:6px;font-size:12px;opacity:0.9;">
                    Ø¨Ø¯ÙˆÙ† Ø°ÙƒØ± Ø£Ø³Ø¹Ø§Ø± â€“ Ù„Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ù…Ø¹Ø±Ø¶ Ø£Ø¨Ùˆ Ø­ÙˆØ§ Ù‡ÙŠØ³Ø§Ø¹Ø¯ Ø­Ø¶Ø±ØªÙƒ ğŸ™‚âœ¨
                </div>
            `;
            addMessage(html, "bot", true);
        }

        function showCompare(modelKey1, modelKey2) {
            const m1 = MODELS[modelKey1];
            const m2 = MODELS[modelKey2];
            if (!m1 || !m2) {
                bot("â€¦ Ø£Ù‚Ø¯Ø± Ø£Ø¹Ù…Ù„ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ø¹Ù†Ø¯ÙŠ Ø¨Ø³ (Ù…Ø«Ù„Ø§Ù‹ RR703 Ùˆ Dayun Ùˆ CMG TIGER)ØŒ Ù„Ùˆ ØªØ­Ø¨ Ø¬Ø±Ù‘Ø¨ ØªÙƒØªØ¨: Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† RR703 Ùˆ Dayun ğŸ™‚âœ¨");
                return;
            }
            let html = `
                ğŸ”¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† ${m1.name} Ùˆ ${m2.name}:\n\n
                <table class="spec-table">
                    <tr><th>Ø§Ù„Ù…ÙˆØ§ØµÙØ©</th><th>${m1.name}</th><th>${m2.name}</th></tr>
                    <tr><td>Ø§Ù„Ù†ÙˆØ¹</td><td>${m1.type}</td><td>${m2.type}</td></tr>
                    <tr><td>Ø§Ù„Ù…Ø­Ø±Ùƒ</td><td>${m1.engine}</td><td>${m2.engine}</td></tr>
                    <tr><td>Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø­ØµØ§Ù†ÙŠØ©</td><td>${m1.power}</td><td>${m2.power}</td></tr>
                    <tr><td>Ø§Ù„Ø¹Ø²Ù…</td><td>${m1.torque}</td><td>${m2.torque}</td></tr>
                    <tr><td>Ù†Ø§Ù‚Ù„ Ø§Ù„Ø­Ø±ÙƒØ©</td><td>${m1.gearbox}</td><td>${m2.gearbox}</td></tr>
                    <tr><td>Ø§Ù„ÙØ±Ø§Ù…Ù„</td><td>${m1.brakes}</td><td>${m2.brakes}</td></tr>
                    <tr><td>Ø³Ø¹Ø© Ø§Ù„ØªØ§Ù†Ùƒ</td><td>${m1.tank}</td><td>${m2.tank}</td></tr>
                    <tr><td>Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ</td><td>${m1.weight}</td><td>${m2.weight}</td></tr>
                </table>
                <div style="margin-top:6px;font-size:12px;opacity:0.9;">
                    Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¯ÙŠ ÙÙ†ÙŠØ© Ø¨Ø³ Ø¨Ø¯ÙˆÙ† Ø£Ø³Ø¹Ø§Ø±ØŒ ÙˆÙ„ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØªØ± ÙØ±ÙŠÙ‚ Ù…Ø¹Ø±Ø¶ Ø£Ø¨Ùˆ Ø­ÙˆØ§ Ù‡Ùˆ Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ğŸ™‚âœ¨
                </div>
            `;
            addMessage(html, "bot", true);
        }

        function handleGeneralIntent(text) {
            const t = text.trim().toLowerCase();

            // Ù„Ùˆ Ø­Ø¯ Ø³Ø£Ù„ Ø¹Ù† Ø³Ø¹Ø± Ø£Ùˆ ÙÙ„ÙˆØ³
            if (t.includes("Ø³Ø¹Ø±") || t.includes("ÙƒØ§Ù…") || t.includes("Ø«Ù…Ù†") || t.includes("price")) {
                bot("â€¦ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø£Ø³Ø¹Ø§Ø±ØŒ ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ù…Ø¹Ø±Ø¶ Ø£Ø¨Ùˆ Ø­ÙˆØ§ Ø¨Ø³ Ù‡Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¥Ø¨Ù„Ø§Øº Ø­Ø¶Ø±ØªÙƒ Ø¨Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØŒ Ø¹Ø´Ø§Ù† Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨ØªØªØºÙŠØ± Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± ğŸ™‚âœ¨");
                return;
            }

            // Ù„Ùˆ Ø­Ø¯ Ø³Ø£Ù„ Ø¹Ù† ØªØ§Ø¬Ø±
            if (t.includes("ØªØ§Ø¬Ø±") || t.includes("Ù…Ø¹Ø±Ø¶") || t.includes("Ø¹Ù†Ø¯ Ù…ÙŠÙ†")) {
                bot("â€¦ Ø£Ù†Ø§ Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª Ø¯Ø§Ø®Ù„ Ø´Ø±ÙƒØ© Ø£Ø¨Ùˆ Ø­ÙˆØ§ ÙÙ‚Ø·ØŒ ÙˆÙ…Ù‚Ø¯Ø±Ø´ Ø£Ø°ÙƒØ± Ø£Ø³Ù…Ø§Ø¡ ØªØ¬Ø§Ø± Ø£Ùˆ Ù…Ø¹Ø§Ø±Ø¶ Ø£Ø®Ø±Ù‰ Ø§Ø­ØªØ±Ø§Ù…Ù‹Ø§ Ù„Ù„Ø³ÙŠØ§Ø³Ø© ğŸ™‚âœ¨");
                return;
            }

            // Ø¨Ø¯Ø§ÙŠØ© Ø­Ø¬Ø²
            if (t.includes("Ø­Ø¬Ø²") || t.includes("Ø§Ø­Ø¬Ø²") || t.includes("booking")) {
                startBookingFlow();
                return;
            }

            // Ù…ÙˆØ§ØµÙØ§Øª Ù…ÙˆØ¯ÙŠÙ„
            if (t.includes("rr703")) {
                showModelSpecs("RR703");
                return;
            }
            if (t.includes("tiger") || t.includes("cmg")) {
                showModelSpecs("CMG TIGER");
                return;
            }
            if (t.includes("dayun") || t.includes("Ø¯Ø§ÙŠÙˆÙ†")) {
                showModelSpecs("DAYUN");
                return;
            }

            // Ù…Ù‚Ø§Ø±Ù†Ø©
            if (t.includes("Ù…Ù‚Ø§Ø±Ù†Ø©") || t.includes("compare")) {
                if (t.includes("rr703") && t.includes("dayun")) {
                    showCompare("RR703", "DAYUN");
                    return;
                }
                if ( (t.includes("rr703") && t.includes("tiger")) ||
                         (t.includes("rr703") && t.includes("cmg")) ) {
                    showCompare("RR703", "CMG TIGER");
                    return;
                }
                bot("â€¦ ØªÙ‚Ø¯Ø± ØªÙƒØªØ¨ Ù…Ø«Ù„Ø§Ù‹: Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† RR703 Ùˆ DayunØŒ Ø£Ùˆ: Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† RR703 Ùˆ CMG TIGER ğŸ™‚âœ¨");
                return;
            }

            // Ù„Ùˆ Ø­Ø§Ø¬Ø© Ø¨Ø±Ø§ Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª
            if (!t.includes("Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„") &&
                    !t.includes("Ù…ÙˆØªØ³ÙŠÙƒÙ„") &&
                    !t.includes("rr703") &&
                    !t.includes("tiger") &&
                    !t.includes("Ø¯Ø§ÙŠÙˆÙ†") &&
                    !t.includes("dayun") &&
                    !t.includes("cmg")) {
                bot("â€¦ Ø§Ù„Ø¨ÙˆØª Ù‡Ù†Ø§ Ù…Ø®ØµØµ Ø¨Ø³ Ù„Ø®Ø¯Ù…Ø© Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø£Ø¨Ùˆ Ø­ÙˆØ§ØŒ ØªØ­Øª Ø£Ù…Ø± Ø­Ø¶Ø±ØªÙƒ ÙÙŠ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§Øª ğŸ™‚âœ¨");
                return;
            }

            // Ø±Ø¯ Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¬ÙˆÙ‡ Ø§Ù„Ù†Ø·Ø§Ù‚
            bot("â€¦ ÙŠØ³Ø¹Ø¯Ù†ÙŠ Ø£Ø³Ø§Ø¹Ø¯ Ø­Ø¶Ø±ØªÙƒ ÙÙŠ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø£Ø¨Ùˆ Ø­ÙˆØ§ Ø£Ùˆ Ù„Ùˆ Ø­Ø§Ø¨Ø¨ Ù†Ø¨Ø¯Ø£ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ Ø§ÙƒØªØ¨: Ø­Ø¬Ø² ğŸ™‚âœ¨");
        }

        function handleMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            user(text);
            userInput.value = "";
            userInput.focus();

            // Ø´ØºÙ„ Ø¨ÙˆØª Rule-based Ù…Ù† ØºÙŠØ± Ø£ÙŠ API
            if (state.mode.startsWith("booking_")) {
                handleBookingStep(text);
            } else {
                handleGeneralIntent(text);
            }
        }

        sendBtn.addEventListener("click", handleMessage);
        userInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
                e.preventDefault();
                handleMessage();
            }
        });
    </script>
</body>
</html>